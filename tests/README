# These are some test cases

# heath check
curl -vv -XGET http://localhost:5000/healthz
returns 200

# Normal firing
curl -vv -H "Content-Type: application/json" --data "@alertmanager-alert-firing.json" -XPOST http://localhost:5000/
returns 202 and submits to alertapi

# Normal clearing
curl -vv -H "Content-Type: application/json" --data "@alertmanager-alert-ok.json" -XPOST http://localhost:5000/
returns 202 and submits to alertapi

# Malformed json
curl -vv -H "Content-Type: application/json" --data "@alertmanager-alert-bad-json.json" -XPOST http://localhost:5000/
returns 400 

# Missing attributes
curl -vv -H "Content-Type: application/json" --data "@alertmanager-alert-bad-label.json" -XPOST http://localhost:5000/
returns 406

# Watchdog (will create INC after timeout)
curl -vv -H "Content-Type: application/json" --data "@alertmanager-alert-watchdog.json" -XPOST http://localhost:5000/watchdog
returns 202, will create INC after timeout

# Clear keepalive with
curl -v -XDELETE -H "Authorization: Bearer YOURTOKEN" https://api.alerts-test.s.uw.edu/v1/keepalive/d0ce4005db4cf3c4d6a77a8eaf9619fc/WatchDog

curl -v -XGET -H "Authorization: Bearer YOURTOKEN" https://api.alerts-test.s.uw.edu/v1/keepalive/d0ce4005db4cf3c4d6a77a8eaf9619fc/WatchDog
